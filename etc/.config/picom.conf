#################################
# Shadows
#

shadow = false;
shadow-radius = 20;
shadow-opacity = .50
shadow-offset-x = -20;
shadow-offset-y = -20;

shadow-exclude = [
  "_GTK_FRAME_EXTENTS@:c",
  "class_g = 'Firefox' && argb",
  "class_g = 'firefox' && argb",
  "_NET_WM_WINDOW_TYPE:a *= '_KDE_NET_WM_WINDOW_TYPE_OVERRIDE'"
];

#################################
# Fading

fading = true

fade-in-step = 0.20;
fade-out-step = 0.20;
fade-delta = 10;

# Specify a list of conditions of windows that should not be faded.
fade-exclude = [
    "window_type = 'normal' && class_g != 'Rofi'"
];

# Do not fade on window open/close.
# no-fading-openclose = false

# Do not fade destroyed ARGB windows with WM frame. Workaround of bugs in Openbox, Fluxbox, etc.
# no-fading-destroyed-argb = false

#################################
# Transparency
#

# inactive-opacity = 0.85;
# frame-opacity = 0.7;
# menu-opacity = 1.0;

# Override WM/App settings
# inactive-opacity-override = true;

# inactive-dim = 0.075;

# focus-exclude = []

#################################
# Blur
#

# Needs GLX Parameters for background blurring, see the *BLUR* section for more information.
blur:{ method="dual_kawase"; strength=3; };
blur-background = true
blur-background-frame = true

# Use fixed blur strength rather than adjusting according to window opacity.
# blur-background-fixed = false

# Exclude conditions for background blur.
blur-background-exclude = [
  # Disable for all windows except rofi?
  #"window_type = 'normal' && class_g != 'Rofi'",

  # Disable for some window types and GTK Frames.
  "_GTK_FRAME_EXTENTS@:c",
  "window_type = 'dock'",
  "window_type = 'desktop'",
  "window_type *= 'menu'"
];

#################################
# General Settings
#

# daemon = false

# Backend. Use GLX for blur and vsync
backend = "glx"

vsync = false

detect-rounded-corners = false

unredir-if-possible = true

# If true, child windows and parent windows are treated as a single window. If false, the child would cause the parent to become inactive.
detect-transient = true
detect-client-leader = true

# Perf?
glx-no-stencil = true
glx-no-rebind-pixmap = true

use-damage = true

log-level = "warn";

wintypes:
{
    # GTK4 fucks up with those shaodws
    menu = { fade = true; shadow = false; full-shadow = true; opacity = 1.0; focus = true; };
    dropdown_menu = { fade = true; shadow = true; opacity = 0.95; focus = true; };
    popup_menu = { fade = true; shadow = true; opacity = 0.95; focus = true; };
    combo = { fade = true; shadow = true; opacity = 1.0; focus = true; };

    dialog  = { fade = true; shadow = true; opacity = 1.0; focus = true; };
    utility = { fade = true; shadow = true; opacity = 1.0; focus = true; };
    toolbar = { fade = true; shadow = true; opacity = 1.0; focus = true; };
    splash  = { fade = true; shadow = true; opacity = 1.0; focus = true; };

    tooltip = { fade = true; shadow = true; opacity = 0.9; focus = true; };

    notification = { fade = true; shadow = true; opacity = 0.9; focus = true; };

    # AwesomeWM Wibox
    dock = { clip-shadow-above = true; shadow = true; };

    dnd = { fade = true; shadow = false; opacity = 0.8; };

    # unknown = {};
    # desktop = {};
    # normal = { fade = true; };
};
